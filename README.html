<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta charset="utf-8"/>
<meta name="generator" content="Docutils 0.13.1: http://docutils.sourceforge.net/" />
<title>lists.tmac</title>
<style type="text/css">

/* Minimal style sheet for the HTML output of Docutils.                    */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: minimal.css 7952 2016-07-26 18:15:59Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*                                                                         */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */

/* This CSS2.1_ stylesheet defines rules for Docutils elements without    */
/* HTML equivalent. It is required to make the document semantic visible. */
/*                                                                        */
/* .. _CSS2.1: http://www.w3.org/TR/CSS2                                  */
/* .. _validates: http://jigsaw.w3.org/css-validator/validator$link       */

/* alignment of text and inline objects inside block objects*/
.align-left   { text-align: left; }
.align-right  { text-align: right; }
.align-center { clear: both; text-align: center; }
.align-top    { vertical-align: top; }
.align-middle { vertical-align: middle; }
.align-bottom { vertical-align: bottom; }

/* titles */
h1.title, p.subtitle {
  text-align: center;
}
p.admonition-title,
p.topic-title,
p.sidebar-title,
p.rubric,
p.system-message-title {
  font-weight: bold;
}
h1 + p.subtitle,
h1 + p.section-subtitle {
  font-size: 1.6em;
}
h2 + p.section-subtitle { font-size: 1.28em; }
p.subtitle,
p.section-subtitle,
p.sidebar-subtitle {
  font-weight: bold;
  margin-top: -0.5em;
}
p.sidebar-title,
p.rubric {
  font-size: larger;
}
p.rubric { color: maroon; }
a.toc-backref {
  color: black;
  text-decoration: none; }

/* Warnings, Errors */
div.caution p.admonition-title,
div.attention p.admonition-title,
div.danger p.admonition-title,
div.error p.admonition-title,
div.warning p.admonition-title,
div.system-messages h1,
div.error,
span.problematic,
p.system-message-title {
  color: red;
}

/* inline literals */
span.docutils.literal {
  font-family: monospace;
  white-space: pre-wrap;
}
/* do not wraph at hyphens and similar: */
.literal > span.pre { white-space: nowrap; }

/* Lists */

/* compact and simple lists: no margin between items */
.simple  li, .compact li,
.simple  ul, .compact ul,
.simple  ol, .compact ol,
.simple > li p, .compact > li p,
dl.simple > dd, dl.compact > dd {
  margin-top: 0;
  margin-bottom: 0;
}

/* Table of Contents */
div.topic.contents { margin: 0; }
ul.auto-toc {
  list-style-type: none;
  padding-left: 1.5em; }

/* Enumerated Lists */
ol.arabic     { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }

dt span.classifier { font-style: italic }
dt span.classifier:before {
  font-style: normal;
  margin: 0.5em;
  content: ":";
}

/* Field Lists and drivatives */
/* bold field name, content starts on the same line */
dl.field-list > dt,
dl.option-list > dt,
dl.docinfo > dt,
dl.footnote > dt,
dl.citation > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}
/* Offset for field content (corresponds to the --field-name-limit option) */
dl.field-list > dd,
dl.option-list > dd,
dl.docinfo > dd {
  margin-left:  9em; /* ca. 14 chars in the test examples */
}
/* start field-body on a new line after long field names */
dl.field-list > dd > *:first-child,
dl.option-list > dd > *:first-child
{
  display: inline-block;
  width: 100%;
  margin: 0;
}
/* field names followed by a colon */
dl.field-list > dt:after,
dl.docinfo > dt:after {
  content: ":";
}

/* Bibliographic Fields (docinfo) */
pre.address { font: inherit; }
dd.authors > p { margin: 0; }

/* Option Lists */
dl.option-list { margin-left: 40px; }
dl.option-list > dt { font-weight: normal; }
span.option { white-space: nowrap; }

/* Footnotes and Citations  */
dl.footnote.superscript > dd {margin-left: 1em; }
dl.footnote.brackets > dd {margin-left: 2em; }
dl > dt.label { font-weight: normal; }
a.footnote-reference.brackets:before,
dt.label > span.brackets:before { content: "["; }
a.footnote-reference.brackets:after,
dt.label > span.brackets:after { content: "]"; }
a.footnote-reference.superscript,
dl.footnote.superscript > dt.label {
  vertical-align: super;
  font-size: smaller;
}
dt.label > span.fn-backref { margin-left: 0.2em; }
dt.label > span.fn-backref > a { font-style: italic; }

/* Line Blocks */
div.line-block { display: block; }
div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 40px;
}

/* Figures, Images, and Tables */
.figure.align-left,
img.align-left,
object.align-left,
table.align-left {
  margin-right: auto;
}
.figure.align-center,
img.align-center,
object.align-center {
  margin-left: auto;
  margin-right: auto;
  display: block;
}
table.align-center {
  margin-left: auto;
  margin-right: auto;
}
.figure.align-right,
img.align-right,
object.align-right,
table.align-right {
  margin-left: auto;
}
/* reset inner alignment in figures and tables */
div.align-left, div.align-center, div.align-right,
table.align-left, table.align-center, table.align-right
{ text-align: inherit }

/* Admonitions and System Messages */
div.admonition,
div.system-message,
div.sidebar{
  margin: 40px;
  border: medium outset;
  padding-right: 1em;
  padding-left: 1em;
}

/* Sidebar */
div.sidebar {
  width: 30%;
  max-width: 26em;
  float: right;
  clear: right;
}

/* Text Blocks */
div.topic,
pre.literal-block,
pre.doctest-block,
pre.math,
pre.code {
  margin-right: 40px;
  margin-left: 40px;
}
pre.code .ln { color: gray; } /* line numbers */

/* Tables */
table { border-collapse: collapse; }
td, th {
  border-style: solid;
  border-color: silver;
  padding: 0 1ex;
  border-width: thin;
}
td > p:first-child, th > p:first-child { margin-top: 0; }
td > p, th > p { margin-bottom: 0; }

table > caption {
  text-align: left;
  margin-bottom: 0.25em
}

table.borderless td, table.borderless th {
  border: 0;
  padding: 0;
  padding-right: 0.5em /* separate table cells */
}

</style>
<style type="text/css">

/* CSS31_ style sheet for the output of Docutils HTML writers.             */
/* Rules for easy reading and pre-defined style variants.		   */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: plain.css 7952 2016-07-26 18:15:59Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*    	     	      	     	 					   */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */
/* .. _CSS3: http://www.w3.org/TR/CSS3		        		   */


/* Document Structure */
/* ****************** */

/* "page layout" */
body {
  padding: 0 5%;
  margin: 8px 0;
}
div.document {
  line-height:1.3;
  counter-reset: table;
  /* counter-reset: figure; */
  /* avoid long lines --> better reading */
  /* OTOH: lines should not be too short because of missing hyphenation, */
  max-width: 50em;
  margin: auto;
}

/* Sections */

/* Transitions */

hr.docutils {
  width: 80%;
  margin-top: 1em;
  margin-bottom: 1em;
  clear: both;
}

/* Paragraphs               */
/* ==========               */

/* vertical space (parskip) */
p, ol, ul, dl,
div.line-block,
table{
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}
h1, h2, h3, h4, h5, h6,
dl > dd {
  margin-bottom: 0.5em;
}

/* Lists                    */
/* ==========               */

/* Definition Lists         */

dl > dd p:first-child { margin-top: 0; }
/* :last-child is not part of CSS 2.1 (introduced in CSS 3) */
/* dl > dd p:last-child  { margin-bottom: 0; } */

/* lists nested in definition lists */
/* :only-child is not part of CSS 2.1 (introduced in CSS 3) */
dd > ul:only-child, dd > ol:only-child { padding-left: 1em; }

/* Description Lists */
/* styled like in most dictionaries, encyclopedias etc. */
dl.description > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}

/* Field Lists */

/* example for custom field-name width */
dl.field-list.narrow > dd {
  margin-left: 5em;
}
/* run-in: start field-body on same line after long field names */
dl.field-list.run-in > dd p {
  display: block;
}

/* Bibliographic Fields */

/* generally, bibliographic fields use special definition list dl.docinfo */
/* but dedication and abstract are placed into "topic" divs */
div.abstract p.topic-title {
  text-align: center;
}
div.dedication {
  margin: 2em 5em;
  text-align: center;
  font-style: italic;
}
div.dedication p.topic-title {
  font-style: normal;
}

/* Citations */
dl.citation dt.label {
  font-weight: bold;
}
span.fn-backref {
  font-weight: normal;
}

/* Text Blocks           */
/* ============          */

/* Literal Blocks           */
pre.literal-block, pre.doctest-block,
pre.math, pre.code {
  margin-left: 1.5em;
  margin-right: 1.5em
}

/* Block Quotes             */

blockquote,
div.topic {
  margin-left: 1.5em;
  margin-right: 1.5em
}
blockquote > table,
div.topic > table {
  margin-top: 0;
  margin-bottom: 0;
}
blockquote p.attribution,
div.topic p.attribution {
  text-align: right;
  margin-left: 20%;
}

/* Tables                   */
/* ======                   */

/* th { vertical-align: bottom; } */

table tr { text-align: left; }

/* "booktabs" style (no vertical lines) */
table.booktabs {
  border: 0;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.booktabs * {
  border: 0;
}
table.booktabs th {
  border-bottom: thin solid;
}

/* numbered tables (counter defined in div.document) */
table.numbered > caption:before {
  counter-increment: table;
  content: "Table " counter(table) ": ";
  font-weight: bold;
}

/* Explicit Markup Blocks   */
/* ======================   */

/* Footnotes and Citations  */
/* -----------------------  */

/* line on the left */
dl.footnote {
  padding-left: 1ex;
  border-left: solid;
  border-left-width: thin;
}

/* Directives               */
/* ----------               */

/* Body Elements            */
/* ~~~~~~~~~~~~~            */

/* Images and Figures */

/* let content flow to the side of aligned images and figures */
.figure.align-left,
img.align-left,
object.align-left {
  display: block;
  clear: left;
  float: left;
  margin-right: 1em
}
.figure.align-right,
img.align-right,
object.align-right {
  display: block;
  clear: right;
  float: right;
  margin-left: 1em
}
/* Stop floating sidebars, images and figures at section level 1,2,3 */
h1, h2, h3 { clear: both; }

/* Sidebar */

/* Move into the margin. In a layout with fixed margins, */
/* it can be moved into the margin completely.		 */
div.sidebar {
  width: 30%;
  max-width: 26em;
  margin-left: 1em;
  margin-right: -5.5%;
  background-color: #ffffee ;
}

/* Code                     */

pre.code, code { background-color: #eeeeee }
pre.code .ln { color: gray; } /* line numbers */
/* basic highlighting: for a complete scheme, see */
/* http://docutils.sourceforge.net/sandbox/stylesheets/ */
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

/* Math                     */
/* styled separately (see math.css for math-output=HTML) */

/* Epigraph                 */
/* Highlights               */
/* Pull-Quote               */
/* Compound Paragraph       */
/* Container                */

/* can be styled in a custom stylesheet */

/* Document Header and Footer */

div.footer, div.header {
  clear: both;
  font-size: smaller;
}

/* Inline Markup            */
/* =============            */

/* Emphasis                 */
/*   em                     */
/* Strong Emphasis          */
/*   strong		    */
/* Interpreted Text         */
/*   span.interpreted  	    */
/* Title Reference 	    */
/*   cite		    */
/* Inline Literals          */
/* possible values: normal, nowrap, pre, pre-wrap, pre-line */
/*   span.docutils.literal { white-space: pre-wrap; } */

/* Hyperlink References     */
a { text-decoration: none; }

/* External Targets         */
/*   span.target.external   */
/* Internal Targets  	    */
/*   span.target.internal   */
/* Footnote References      */
/*   a.footnote-reference   */
/* Citation References      */
/*   a.citation-reference   */

</style>
</head>
<body>
<div class="document" id="lists-tmac">
<h1 class="title">lists.tmac</h1>

<p class="subtitle" id="a-macro-package-for-well-typeset-lists-in-troff">A macro package for well-typeset lists in TROFF</p>
<div class="section" id="introduction">
<h1>Introduction</h1>
<p><em>lists.tmac</em> (<em>lists dot troff macros</em>) is the name of this macro package in
TROFF.  This macro package aims to facilitate exceptionally-beautiful
typesetting of bulleted lists (lists of points) and totally ordered lists
(numerical or lexicographical lists) in TROFF.  The entire macro package is
completely free and open-source and is completely written in TROFF from ashes to
stones.</p>
<p>To further its abilities, it aims to provide utmost customizability, control,
and freedom in the typeset output, whilst also providing convenience and
failure-correction in most general cases.  Following the UNIX philosophy, it
aims to do one thing and do it very well: lists.  All the documentation aims to
be as precise and detailed as possible.</p>
<p>Given these goals, <em>lists.tmac</em> currently fulfills everyone of them, all
<em>except</em> for the facilities to typeset totally ordered lists, which is a
challenging endeavour.</p>
</div>
<div class="section" id="motivation">
<h1>Motivation</h1>
<p><em>lists.tmac</em> was written out of the need of more complex structures of lists,
both bulleted and totally ordered ones.  Though, it started off with the need
for complex bulleted lists first, which were in high demand and less of a
challenge than totally ordered lists.</p>
<p>Once came upon a time, a writer sat at her computer, typesetting some
documentation for a computer science project using TROFF and the <em>-me</em> macros.
As she started the abstract and the introductory portions of the document, all
was fine and dandy; paragraphs, figures, blockquotes, titles, and some basic
lists were set very well.  And so, she kept on keeping on with her work...</p>
<p>One day, as she ventured further into the journey of writing, she stumbled upon
a cliffedge, whereupon the other side lies yet another cliffedge with a writing
idea hanging by its tip, 10 ems away from this cliffedge.  She then realized
that the only way to bridge those two cliffedges together was to construct
bulleted lists with nested bulleted lists upon nested bulleted lists until she
could reach for that idea on the other side and carry on.</p>
<p>Unfortunately, the facility of bulleted lists provided by the <em>-me</em> macros could
only do so much:</p>
<pre class="code nroff literal-block"><code>.<span class="keyword">lp</span>
I have to make a bridge thither, for I may fall down the river miles below if
I try to jump.
Let me see what I can do...
.<span class="keyword">bu</span>
This is my first list item.
.<span class="keyword">bu</span>
We'll just reinforce it a bit so it's stronger.
.<span class="keyword">bu</span>
Uhm...
.<span class="keyword">bu</span>
I can't possibly get to the other side by reinforcing this same list item, can
I?
.<span class="keyword">po</span> <span class="literal string">+10m</span> <span class="comment">\&quot; Will my bridge be strong enough?</span>
.<span class="keyword">po</span> <span class="literal string">-10m</span> <span class="comment">\&quot; Maybe not.</span>
.<span class="keyword">in</span> <span class="literal string">+10m</span> <span class="comment">\&quot; This might work...</span>
.<span class="keyword">in</span> <span class="literal string">-10m</span> <span class="comment">\&quot; But, I'm afraid of heights!</span>
.<span class="keyword">lp</span>
Never mind!</code></pre>
<img alt="Typeset output of her code." src="docs/list1.png" style="width: 100%;" />
<p>After some thoughts and brainstorming, she recalls an ability that
reStructuredText posesses.  She has a very keen recollection of
reStructuredText's beautifully nested lists and how well they conincide with
other facilities it provides.  She knows this as she had been doing a bit of
writing work in reStructuredText before!</p>
<ul>
<li><p>This is an example of a bulleted list in reStructuredText.</p>
<ul>
<li><p>Bulleted lists can extend to many nested orders, like this one.</p>
<ul>
<li><p>And this one!</p>
<p>One can even have a paragraph therewithin.</p>
</li>
</ul>
</li>
<li><p>One can add further points, yet again.</p>
<ul class="simple">
<li><p>It can expand to more points too.</p>
<ul>
<li><p>Like this.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>And abruptly come back to the first nested order as desired.</p></li>
</ul>
<p>To get to the cliffedge on the other side, she gets her inspiration from
reStructuredText's lists and also concocts new features to add to it as well.
And so she decided to put this ability into a macro package that works well and
can be used within TROFF, which means that she can use it again effectively
should she find another cliffedge like this one.</p>
<pre class="code nroff literal-block"><code>.<span class="keyword">lp</span> <span class="comment">\&quot; 0ems from origin.</span>
Okay, now, I've made my macro package for a bridge.
Let's try it out.
<span class="punctuation">.</span><span class="literal string">{b</span> <span class="literal number">2</span><span class="literal string">m</span> <span class="comment">\&quot; 2ems from origin.</span>
.<span class="keyword">bb</span>
Okay, this looks good.
.<span class="keyword">bb</span>
Enforce it a little...
<span class="punctuation">.</span><span class="literal string">{b</span> <span class="literal number">2</span><span class="literal string">m</span> <span class="comment">\&quot; 4ems from origin.</span>
.<span class="keyword">bb</span>
Okay, here's another planck for my bridge.
<span class="punctuation">.</span><span class="literal string">{b</span> <span class="literal number">4</span><span class="literal string">m</span> <span class="comment">\&quot; 8ems from origin.</span>
.<span class="keyword">bb</span>
Whoa!
That was quite a big jump.
.<span class="keyword">bb</span>
Let me make this stronger.
It's just two more ems till I reach the other side!
<span class="punctuation">.</span><span class="literal string">{b</span> <span class="literal number">2</span><span class="literal string">m</span> <span class="comment">\&quot; 10ems from origin.</span>
.<span class="keyword">bb</span>
OMG YES I DID IT!!
.<span class="keyword">bb</span>
I've reached the other side, 10ems away from where I stood.
<span class="punctuation">.</span><span class="literal string">}b</span> <span class="comment">\&quot; 8ems from origin.</span>
.<span class="keyword">bb</span>
I can go back...
<span class="punctuation">.</span><span class="literal string">}b</span> <span class="comment">\&quot; 4ems from origin.</span>
.<span class="keyword">bb</span>
I can go back safely, without falling!
<span class="punctuation">.</span><span class="literal string">}b</span> <span class="comment">\&quot; 2ems from origin.</span>
.<span class="keyword">bb</span>
Almost there!!
<span class="punctuation">.</span><span class="literal string">}b</span> <span class="comment">\&quot; 0ems from origin.</span>
.<span class="keyword">lp</span>
Done!</code></pre>
<img alt="Typeset output of her code." src="docs/list2.png" style="width: 100%;" />
<p>After stringent strength-testing and all that, she managed to cross the other
side of her own bridge, never to fear another cliff again!</p>
<p>The End.</p>
</div>
</div>
</body>
</html>
